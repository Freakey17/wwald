CREATE TABLE MENTOR (
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY ,
	first_name VARCHAR(32),
	middle_initial VARCHAR(1),
	last_name VARCHAR(32),
	short_bio LONGVARCHAR);	

CREATE TABLE COURSE (
	id VARCHAR(16) NOT NULL PRIMARY KEY,
	title VARCHAR(128) NOT NULL,
	description LONGVARCHAR);

CREATE TABLE COMPETENCY (
	id INTEGER NOT NULL,
	course_id VARCHAR(16) NOT NULL,
	title VARCHAR(128) NOT NULL,
	description LONGVARCHAR,
	resources LONGVARCHAR,
	PRIMARY KEY(id, course_id),
		CONSTRAINT course_id_fk FOREIGN KEY (course_id) REFERENCES COURSE(id));

CREATE TABLE COURSES_WIKI (
	id INTEGER NOT NULL PRIMARY KEY,
	content LONGVARCHAR);
 
CREATE TABLE COURSE_COMPETENCIES_WIKI (
	course_id VARCHAR(16) NOT NULL PRIMARY KEY,
	contents LONGVARCHAR,
		CONSTRAINT course_competencies_wiki_fk1 FOREIGN KEY (course_id) REFERENCES COURSE(id));		 
	
CREATE TABLE USER (
	first_name VARCHAR(32),
	mi VARCHAR(1),
	last_name VARCHAR(32),
	username VARCHAR(16) NOT NULL PRIMARY KEY,
	password VARCHAR(16) NOT NULL,
	join_date DATE NOT NULL,
	role VARCHAR(32));
	 
CREATE TABLE COURSE_ENROLLMENT_ACTIONS (
	course_id VARCHAR(16) NOT NULL,
	username VARCHAR(16) NOT NULL,
	course_enrollment_action_id INTEGER NOT NULL,
	tstamp TIMESTAMP,
		CONSTRAINT course_id_fk1 FOREIGN KEY (course_id) REFERENCES COURSE(id),
		CONSTRAINT username_fk2 FOREIGN KEY (username) REFERENCES USER(username));
	 
CREATE TABLE COURSE_ENOLLMENT_STATUS_MASTER (
	id INTEGER NOT NULL PRIMARY KEY,
	status VARCHAR(16));
	
CREATE TABLE COURSE_MENTORS (
	course_id VARCHAR(16) NOT NULL,
	mentor_id INTEGER NOT NULL,
	PRIMARY KEY(course_id, mentor_id),
		CONSTRAINT course_mentors_col1_fk FOREIGN KEY (course_id) REFERENCES COURSE(id),
		CONSTRAINT course_mentors_col2_fk FOREIGN KEY (mentor_id) REFERENCES MENTOR(id));
	